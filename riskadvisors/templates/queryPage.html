<!DOCTYPE html>
<html ng-app="angularJsStub">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/bootstrap.min.css') }}">
    </head>
    <body>
        <header>
            <h1 class="text-center">API to Transfer any Excel file to Database with table schema <small>For RiskAdvisors</small></h1>
            <h6 class="text-center">This app dynamically parses table schema of excel sheet and saves it to a SQL database</h6>
        </header>
        <section class="container" style="align:center">
            <div class="row text-center" ng-controller="QueryData">
                
                <div class="col-sm-6 col-md-4 col-md-offset-4">
                    <h6>Table imported to Database</h6>
                    <p>Filename: {{ session['filename'] }}</p>
                    <p>Tablename: {{ session['table_name'] }}</p>
                    <h6>Query Table:</h6>
                    <form class="form-horizontal">
                        <div class="form-group">
                        <label>Select Column to query</label>
                        <select name="col_name" width="300px" ng-model="col_name">
                                <option value=id>Id</option>
                            {% for header in session['sheet_headers'] %}
                                <option value={{ header }}>{{header}}</option>"
                            {% endfor %}
                        </select>
                        </div>
                        <div class="form-group">
                        <label>Enter Column Value: </label>
                        <input type="text" name='col_value' ng-model="col_value">
                        </div>
                        <button ng-click="query({$col_name, $col_Value})" class="btn btn-default">Submit</button>
                    </form>
                </div>
                
                <div class="">
                    <div  >
                        <div class="device row" >
                            <div ng-init="datalist='list'"></div>
                            <div ng-repeat="ab in datalist | limitTo:1">
                                <ul class="list-inline">
                                    <li style="width:100px" ng-repeat="(key, value) in ab">
                                        {{key|angular}}
                                    </li>
                                </ul>
                                <ul class="list-inline">
                                    <li style="width:100px" ng-repeat="(key, value) in ab">
                                        {{value|angular}}
                                    </li>
                                </ul>
  	                        </div>

                        </div>
                    </div>
                    
            
                </div>
            </div>
        </section>


    
    <script type="text/javascript" src="{{ url_for('static', filename='js/angular.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/app.js') }}"></script>
    </body>
</html>